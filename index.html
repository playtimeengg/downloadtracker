<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Playtime Engineering Pack Download Stats</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #fafafa;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    height: 100vh;
    margin: 0;
    padding-top: 60px;
  }
  h1 {
    text-align: center;
    color: #333;
  }
  .stats {
    margin-top: 40px;
    font-size: 1.2em;
    background: #fff;
    border: 1px solid #ddd;
    padding: 20px 40px;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  p {
    margin: 10px 0;
  }
</style>
</head>
<body>

<h1>Playtime Engineering Pack Download Stats</h1>
<div class="stats">
  <p id="mainCount">Loading...</p>
  <p id="today"></p>
  <p id="week"></p>
</div>

<script>
(async function() {
  try {
    // --- Fetch main counter ---
    const counterRes = await fetch("https://api.counterapi.dev/v2/downloadtracker/fc-band-n-orch");
    const counterData = await counterRes.json();
    const upCount = counterData.data.up_count;
    const finalResult = upCount / 2;

    // --- Fetch stats ---
    const statsRes = await fetch("https://api.counterapi.dev/v2/downloadtracker/fc-band-n-orch/stats");
    const statsData = await statsRes.json();
    const todayDownloads = statsData.data.stats.today.up / 2;
    const weeklyDownloads = statsData.data.stats.this_week.up / 2;

    // --- Display values ---
    document.getElementById("mainCount").textContent =
      `Band and Orch downloaded: ${finalResult} times`;

    document.getElementById("today").textContent =
      `Today's downloads: ${todayDownloads}`;

    document.getElementById("week").textContent =
      `This week's downloads: ${weeklyDownloads}`;
  } catch (err) {
    console.error("Error fetching stats:", err);
    document.getElementById("mainCount").textContent = "Error loading stats.";
  }
})();
</script>

</body>
</html>
